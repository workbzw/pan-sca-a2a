{
  "address": "0xF7D7F0790A6BD73260a0991167e64f24B66FA98A",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "PaymentReceived",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "SBTMinted",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "balanceOf",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "exists",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "getPaymentInfo",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "payer",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "recipient",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "description",
              "type": "string"
            }
          ],
          "internalType": "struct PaymentSBT.PaymentInfo",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        }
      ],
      "name": "getPaymentsByRecipient",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "getTokensByOwner",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address[]",
          "name": "recipients",
          "type": "address[]"
        },
        {
          "internalType": "uint256[]",
          "name": "amounts",
          "type": "uint256[]"
        },
        {
          "internalType": "string[]",
          "name": "descriptions",
          "type": "string[]"
        }
      ],
      "name": "makeBatchPayment",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "tokenIds",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        }
      ],
      "name": "makePayment",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "ownerOf",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "paymentInfo",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "recipientPayments",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalSupply",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "userTokens",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0x4525c6bc3409518bde814ea4b54f6f5213dd940cff27d39a9350810b1e25b69c",
  "receipt": {
    "to": null,
    "from": "0x74cC09316deab81EE874839e1DA9E84Ec066369C",
    "contractAddress": "0xF7D7F0790A6BD73260a0991167e64f24B66FA98A",
    "transactionIndex": 0,
    "gasUsed": "1272586",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x8d8d6eaa443c53f0c95ffcfd7804d56ef153127f64b24bfb0cd7bb802b9c4309",
    "transactionHash": "0x4525c6bc3409518bde814ea4b54f6f5213dd940cff27d39a9350810b1e25b69c",
    "logs": [],
    "blockNumber": 71052169,
    "cumulativeGasUsed": "1272586",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "a2985d0c2596dbc48bed05c19214f3f5",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"payer\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"PaymentReceived\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"SBTMinted\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"exists\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"getPaymentInfo\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"payer\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"}],\"internalType\":\"struct PaymentSBT.PaymentInfo\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"}],\"name\":\"getPaymentsByRecipient\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"getTokensByOwner\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"recipients\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"amounts\",\"type\":\"uint256[]\"},{\"internalType\":\"string[]\",\"name\":\"descriptions\",\"type\":\"string[]\"}],\"name\":\"makeBatchPayment\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"tokenIds\",\"type\":\"uint256[]\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"}],\"name\":\"makePayment\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"ownerOf\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"paymentInfo\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"payer\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"recipientPayments\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"userTokens\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"\\u63a5\\u6536\\u4ed8\\u6b3e\\u540e\\u53d1\\u653eSBT\\uff0c\\u5728SBT\\u4e2d\\u8bb0\\u5f55\\u4ed8\\u6b3e\\u4fe1\\u606f\\uff0c\\u5e76\\u5c06\\u6b3e\\u9879\\u8f6c\\u8d26\\u7ed9\\u76ee\\u6807\\u5730\\u5740\",\"kind\":\"dev\",\"methods\":{\"balanceOf(address)\":{\"params\":{\"owner\":\"\\u7528\\u6237\\u5730\\u5740\"},\"returns\":{\"_0\":\"Token\\u6570\\u91cf\"}},\"exists(uint256)\":{\"params\":{\"tokenId\":\"Token ID\"},\"returns\":{\"_0\":\"\\u662f\\u5426\\u5b58\\u5728\"}},\"getPaymentInfo(uint256)\":{\"params\":{\"tokenId\":\"Token ID\"},\"returns\":{\"_0\":\"\\u4ed8\\u6b3e\\u4fe1\\u606f\"}},\"getPaymentsByRecipient(address)\":{\"params\":{\"recipient\":\"\\u6536\\u6b3e\\u5730\\u5740\"},\"returns\":{\"_0\":\"Token ID\\u6570\\u7ec4\"}},\"getTokensByOwner(address)\":{\"params\":{\"owner\":\"\\u7528\\u6237\\u5730\\u5740\"},\"returns\":{\"_0\":\"Token ID\\u6570\\u7ec4\"}},\"makeBatchPayment(address[],uint256[],string[])\":{\"params\":{\"amounts\":\"\\u4ed8\\u6b3e\\u91d1\\u989d\\u6570\\u7ec4\\uff08wei\\uff09\",\"descriptions\":\"\\u4ed8\\u6b3e\\u63cf\\u8ff0\\u6570\\u7ec4\",\"recipients\":\"\\u6536\\u6b3e\\u5730\\u5740\\u6570\\u7ec4\"},\"returns\":{\"tokenIds\":\"\\u65b0\\u94f8\\u9020\\u7684SBT Token ID\\u6570\\u7ec4\"}},\"makePayment(address,string)\":{\"params\":{\"description\":\"\\u4ed8\\u6b3e\\u63cf\\u8ff0\\uff08\\u53ef\\u9009\\uff0c\\u53ef\\u4e3a\\u7a7a\\u5b57\\u7b26\\u4e32\\uff09\",\"recipient\":\"\\u6536\\u6b3e\\u5730\\u5740\"},\"returns\":{\"tokenId\":\"\\u65b0\\u94f8\\u9020\\u7684SBT Token ID\"}},\"ownerOf(uint256)\":{\"params\":{\"tokenId\":\"Token ID\"},\"returns\":{\"_0\":\"\\u62e5\\u6709\\u8005\\u5730\\u5740\"}},\"totalSupply()\":{\"returns\":{\"_0\":\"\\u603bToken\\u6570\\u91cf\"}}},\"title\":\"PaymentSBT\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"balanceOf(address)\":{\"notice\":\"\\u83b7\\u53d6\\u7528\\u6237\\u62e5\\u6709\\u7684Token\\u6570\\u91cf\"},\"exists(uint256)\":{\"notice\":\"\\u68c0\\u67e5Token\\u662f\\u5426\\u5b58\\u5728\"},\"getPaymentInfo(uint256)\":{\"notice\":\"\\u83b7\\u53d6Token\\u7684\\u4ed8\\u6b3e\\u4fe1\\u606f\"},\"getPaymentsByRecipient(address)\":{\"notice\":\"\\u83b7\\u53d6\\u6536\\u6b3e\\u5730\\u5740\\u6536\\u5230\\u7684\\u6240\\u6709\\u4ed8\\u6b3eToken IDs\"},\"getTokensByOwner(address)\":{\"notice\":\"\\u83b7\\u53d6\\u7528\\u6237\\u62e5\\u6709\\u7684\\u6240\\u6709Token IDs\"},\"makeBatchPayment(address[],uint256[],string[])\":{\"notice\":\"\\u6279\\u91cf\\u4ed8\\u6b3e\\u5e76\\u53d1\\u653eSBT\"},\"makePayment(address,string)\":{\"notice\":\"\\u4ed8\\u6b3e\\u5e76\\u53d1\\u653eSBT\"},\"ownerOf(uint256)\":{\"notice\":\"\\u83b7\\u53d6Token\\u7684\\u62e5\\u6709\\u8005\"},\"totalSupply()\":{\"notice\":\"\\u83b7\\u53d6\\u603bToken\\u6570\\u91cf\"}},\"notice\":\"\\u652f\\u4ed8\\u53d1\\u653eSBT\\u5408\\u7ea6\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/PaymentSBT.sol\":\"PaymentSBT\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/PaymentSBT.sol\":{\"content\":\"//SPDX-License-Identifier: MIT\\npragma solidity >=0.8.0 <0.9.0;\\n\\n/**\\n * @title PaymentSBT\\n * @notice \\u652f\\u4ed8\\u53d1\\u653eSBT\\u5408\\u7ea6\\n * @dev \\u63a5\\u6536\\u4ed8\\u6b3e\\u540e\\u53d1\\u653eSBT\\uff0c\\u5728SBT\\u4e2d\\u8bb0\\u5f55\\u4ed8\\u6b3e\\u4fe1\\u606f\\uff0c\\u5e76\\u5c06\\u6b3e\\u9879\\u8f6c\\u8d26\\u7ed9\\u76ee\\u6807\\u5730\\u5740\\n */\\ncontract PaymentSBT {\\n    // \\u4ed8\\u6b3e\\u4fe1\\u606f\\u7ed3\\u6784\\n    struct PaymentInfo {\\n        uint256 amount;         // \\u4ed8\\u6b3e\\u91d1\\u989d\\uff08wei\\uff09\\n        address payer;          // \\u4ed8\\u6b3e\\u5730\\u5740\\n        address recipient;      // \\u6536\\u6b3e\\u5730\\u5740\\n        uint256 timestamp;      // \\u4ed8\\u6b3e\\u65f6\\u95f4\\u6233\\n        string description;     // \\u4ed8\\u6b3e\\u63cf\\u8ff0\\uff08\\u53ef\\u9009\\uff09\\n    }\\n\\n    // Token ID => \\u4ed8\\u6b3e\\u4fe1\\u606f\\n    mapping(uint256 => PaymentInfo) public paymentInfo;\\n    \\n    // \\u7528\\u6237\\u5730\\u5740 => Token ID\\u6570\\u7ec4\\n    mapping(address => uint256[]) public userTokens;\\n    \\n    // \\u6536\\u6b3e\\u5730\\u5740 => \\u6536\\u5230\\u7684\\u4ed8\\u6b3eToken IDs\\n    mapping(address => uint256[]) public recipientPayments;\\n    \\n    // Token\\u603b\\u6570\\n    uint256 private _tokenCounter;\\n    \\n    // Token\\u62e5\\u6709\\u8005\\u6620\\u5c04\\n    mapping(uint256 => address) private _owners;\\n    \\n    // \\u7528\\u6237\\u62e5\\u6709\\u7684Token\\u6570\\u91cf\\n    mapping(address => uint256) private _balances;\\n    \\n    // \\u4e8b\\u4ef6\\n    event PaymentReceived(\\n        uint256 indexed tokenId,\\n        address indexed payer,\\n        address indexed recipient,\\n        uint256 amount,\\n        uint256 timestamp\\n    );\\n    \\n    event SBTMinted(\\n        uint256 indexed tokenId,\\n        address indexed owner,\\n        address indexed recipient,\\n        uint256 amount\\n    );\\n\\n    /**\\n     * @notice \\u4ed8\\u6b3e\\u5e76\\u53d1\\u653eSBT\\n     * @param recipient \\u6536\\u6b3e\\u5730\\u5740\\n     * @param description \\u4ed8\\u6b3e\\u63cf\\u8ff0\\uff08\\u53ef\\u9009\\uff0c\\u53ef\\u4e3a\\u7a7a\\u5b57\\u7b26\\u4e32\\uff09\\n     * @return tokenId \\u65b0\\u94f8\\u9020\\u7684SBT Token ID\\n     */\\n    function makePayment(address recipient, string memory description) \\n        public \\n        payable \\n        returns (uint256 tokenId) \\n    {\\n        require(recipient != address(0), \\\"PaymentSBT: Invalid recipient\\\");\\n        require(msg.value > 0, \\\"PaymentSBT: Payment amount must be greater than 0\\\");\\n        \\n        // \\u589e\\u52a0Token\\u8ba1\\u6570\\u5668\\n        tokenId = ++_tokenCounter;\\n        \\n        // \\u8bb0\\u5f55\\u4ed8\\u6b3e\\u4fe1\\u606f\\n        paymentInfo[tokenId] = PaymentInfo({\\n            amount: msg.value,\\n            payer: msg.sender,\\n            recipient: recipient,\\n            timestamp: block.timestamp,\\n            description: description\\n        });\\n        \\n        // \\u5206\\u914dToken\\u7ed9\\u4ed8\\u6b3e\\u8005\\n        _owners[tokenId] = msg.sender;\\n        _balances[msg.sender]++;\\n        userTokens[msg.sender].push(tokenId);\\n        recipientPayments[recipient].push(tokenId);\\n        \\n        // \\u8f6c\\u8d26\\u7ed9\\u6536\\u6b3e\\u5730\\u5740\\n        payable(recipient).transfer(msg.value);\\n        \\n        // \\u89e6\\u53d1\\u4e8b\\u4ef6\\n        emit PaymentReceived(tokenId, msg.sender, recipient, msg.value, block.timestamp);\\n        emit SBTMinted(tokenId, msg.sender, recipient, msg.value);\\n        \\n        return tokenId;\\n    }\\n\\n    /**\\n     * @notice \\u6279\\u91cf\\u4ed8\\u6b3e\\u5e76\\u53d1\\u653eSBT\\n     * @param recipients \\u6536\\u6b3e\\u5730\\u5740\\u6570\\u7ec4\\n     * @param amounts \\u4ed8\\u6b3e\\u91d1\\u989d\\u6570\\u7ec4\\uff08wei\\uff09\\n     * @param descriptions \\u4ed8\\u6b3e\\u63cf\\u8ff0\\u6570\\u7ec4\\n     * @return tokenIds \\u65b0\\u94f8\\u9020\\u7684SBT Token ID\\u6570\\u7ec4\\n     */\\n    function makeBatchPayment(\\n        address[] memory recipients,\\n        uint256[] memory amounts,\\n        string[] memory descriptions\\n    ) \\n        public \\n        payable \\n        returns (uint256[] memory tokenIds) \\n    {\\n        require(recipients.length == amounts.length, \\\"PaymentSBT: Arrays length mismatch\\\");\\n        require(recipients.length == descriptions.length, \\\"PaymentSBT: Descriptions length mismatch\\\");\\n        \\n        uint256 totalAmount = 0;\\n        for (uint256 i = 0; i < amounts.length; i++) {\\n            totalAmount += amounts[i];\\n        }\\n        require(msg.value >= totalAmount, \\\"PaymentSBT: Insufficient payment\\\");\\n        \\n        tokenIds = new uint256[](recipients.length);\\n        \\n        for (uint256 i = 0; i < recipients.length; i++) {\\n            require(recipients[i] != address(0), \\\"PaymentSBT: Invalid recipient\\\");\\n            require(amounts[i] > 0, \\\"PaymentSBT: Amount must be greater than 0\\\");\\n            \\n            // \\u589e\\u52a0Token\\u8ba1\\u6570\\u5668\\n            uint256 tokenId = ++_tokenCounter;\\n            tokenIds[i] = tokenId;\\n            \\n            // \\u8bb0\\u5f55\\u4ed8\\u6b3e\\u4fe1\\u606f\\n            paymentInfo[tokenId] = PaymentInfo({\\n                amount: amounts[i],\\n                payer: msg.sender,\\n                recipient: recipients[i],\\n                timestamp: block.timestamp,\\n                description: descriptions[i]\\n            });\\n            \\n            // \\u5206\\u914dToken\\u7ed9\\u4ed8\\u6b3e\\u8005\\n            _owners[tokenId] = msg.sender;\\n            _balances[msg.sender]++;\\n            userTokens[msg.sender].push(tokenId);\\n            recipientPayments[recipients[i]].push(tokenId);\\n            \\n            // \\u8f6c\\u8d26\\u7ed9\\u6536\\u6b3e\\u5730\\u5740\\n            payable(recipients[i]).transfer(amounts[i]);\\n            \\n            // \\u89e6\\u53d1\\u4e8b\\u4ef6\\n            emit PaymentReceived(tokenId, msg.sender, recipients[i], amounts[i], block.timestamp);\\n            emit SBTMinted(tokenId, msg.sender, recipients[i], amounts[i]);\\n        }\\n        \\n        // \\u5982\\u679c\\u6709\\u5269\\u4f59\\u8d44\\u91d1\\uff0c\\u9000\\u8fd8\\n        if (msg.value > totalAmount) {\\n            payable(msg.sender).transfer(msg.value - totalAmount);\\n        }\\n        \\n        return tokenIds;\\n    }\\n\\n    /**\\n     * @notice \\u83b7\\u53d6Token\\u7684\\u4ed8\\u6b3e\\u4fe1\\u606f\\n     * @param tokenId Token ID\\n     * @return \\u4ed8\\u6b3e\\u4fe1\\u606f\\n     */\\n    function getPaymentInfo(uint256 tokenId) \\n        public \\n        view \\n        returns (PaymentInfo memory) \\n    {\\n        require(_owners[tokenId] != address(0), \\\"PaymentSBT: Token does not exist\\\");\\n        return paymentInfo[tokenId];\\n    }\\n\\n    /**\\n     * @notice \\u83b7\\u53d6\\u7528\\u6237\\u62e5\\u6709\\u7684\\u6240\\u6709Token IDs\\n     * @param owner \\u7528\\u6237\\u5730\\u5740\\n     * @return Token ID\\u6570\\u7ec4\\n     */\\n    function getTokensByOwner(address owner) \\n        public \\n        view \\n        returns (uint256[] memory) \\n    {\\n        return userTokens[owner];\\n    }\\n\\n    /**\\n     * @notice \\u83b7\\u53d6\\u6536\\u6b3e\\u5730\\u5740\\u6536\\u5230\\u7684\\u6240\\u6709\\u4ed8\\u6b3eToken IDs\\n     * @param recipient \\u6536\\u6b3e\\u5730\\u5740\\n     * @return Token ID\\u6570\\u7ec4\\n     */\\n    function getPaymentsByRecipient(address recipient) \\n        public \\n        view \\n        returns (uint256[] memory) \\n    {\\n        return recipientPayments[recipient];\\n    }\\n\\n    /**\\n     * @notice \\u83b7\\u53d6Token\\u7684\\u62e5\\u6709\\u8005\\n     * @param tokenId Token ID\\n     * @return \\u62e5\\u6709\\u8005\\u5730\\u5740\\n     */\\n    function ownerOf(uint256 tokenId) public view returns (address) {\\n        address owner = _owners[tokenId];\\n        require(owner != address(0), \\\"PaymentSBT: Token does not exist\\\");\\n        return owner;\\n    }\\n\\n    /**\\n     * @notice \\u83b7\\u53d6\\u7528\\u6237\\u62e5\\u6709\\u7684Token\\u6570\\u91cf\\n     * @param owner \\u7528\\u6237\\u5730\\u5740\\n     * @return Token\\u6570\\u91cf\\n     */\\n    function balanceOf(address owner) public view returns (uint256) {\\n        return _balances[owner];\\n    }\\n\\n    /**\\n     * @notice \\u83b7\\u53d6\\u603bToken\\u6570\\u91cf\\n     * @return \\u603bToken\\u6570\\u91cf\\n     */\\n    function totalSupply() public view returns (uint256) {\\n        return _tokenCounter;\\n    }\\n\\n    /**\\n     * @notice \\u68c0\\u67e5Token\\u662f\\u5426\\u5b58\\u5728\\n     * @param tokenId Token ID\\n     * @return \\u662f\\u5426\\u5b58\\u5728\\n     */\\n    function exists(uint256 tokenId) public view returns (bool) {\\n        return _owners[tokenId] != address(0);\\n    }\\n}\\n\\n\",\"keccak256\":\"0xb0a331230a9c0bf2471e2e20787401b8a6c0646354eaefd35ff7f16938b91a3b\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b5061160d806100206000396000f3fe6080604052600436106100a75760003560e01c80637764be6a116100645780637764be6a146101e4578063a936ed5e14610204578063c3bad6ef14610224578063d810ff0f14610237578063e14d04b214610264578063f9f411d81461027757600080fd5b806318160ddd146100ac5780633157f16d146100d057806340398d67146101015780634f558e791461012e5780636352211e1461017657806370a08231146101ae575b600080fd5b3480156100b857600080fd5b506003545b6040519081526020015b60405180910390f35b3480156100dc57600080fd5b506100f06100eb366004610f83565b610297565b6040516100c7959493929190610fe2565b34801561010d57600080fd5b5061012161011c366004611042565b61035d565b6040516100c79190611064565b34801561013a57600080fd5b50610166610149366004610f83565b6000908152600460205260409020546001600160a01b0316151590565b60405190151581526020016100c7565b34801561018257600080fd5b50610196610191366004610f83565b6103c9565b6040516001600160a01b0390911681526020016100c7565b3480156101ba57600080fd5b506100bd6101c9366004611042565b6001600160a01b031660009081526005602052604090205490565b3480156101f057600080fd5b506101216101ff366004611042565b610439565b34801561021057600080fd5b506100bd61021f3660046110a8565b6104a3565b6100bd610232366004611189565b6104d4565b34801561024357600080fd5b50610257610252366004610f83565b610788565b6040516100c791906111d7565b61012161027236600461133f565b61091d565b34801561028357600080fd5b506100bd6102923660046110a8565b610f67565b6000602081905290815260409020805460018201546002830154600384015460048501805494956001600160a01b0394851695939094169391926102da90611423565b80601f016020809104026020016040519081016040528092919081815260200182805461030690611423565b80156103535780601f1061032857610100808354040283529160200191610353565b820191906000526020600020905b81548152906001019060200180831161033657829003601f168201915b5050505050905085565b6001600160a01b0381166000908152600160209081526040918290208054835181840281018401909452808452606093928301828280156103bd57602002820191906000526020600020905b8154815260200190600101908083116103a9575b50505050509050919050565b6000818152600460205260408120546001600160a01b0316806104335760405162461bcd60e51b815260206004820181905260248201527f5061796d656e745342543a20546f6b656e20646f6573206e6f7420657869737460448201526064015b60405180910390fd5b92915050565b6001600160a01b0381166000908152600260209081526040918290208054835181840281018401909452808452606093928301828280156103bd57602002820191906000526020600020908154815260200190600101908083116103a95750505050509050919050565b600260205281600052604060002081815481106104bf57600080fd5b90600052602060002001600091509150505481565b60006001600160a01b03831661052c5760405162461bcd60e51b815260206004820152601d60248201527f5061796d656e745342543a20496e76616c696420726563697069656e74000000604482015260640161042a565b600034116105965760405162461bcd60e51b815260206004820152603160248201527f5061796d656e745342543a205061796d656e7420616d6f756e74206d75737420604482015270062652067726561746572207468616e203607c1b606482015260840161042a565b6003600081546105a590611473565b91829055506040805160a0810182523481523360208083019182526001600160a01b038881168486019081524260608601908152608086018a8152600089815294859052969093208551815593516001850180549184166001600160a01b03199283161790559051600285018054919093169116179055516003820155915192935091600482019061063790826114db565b505050600081815260046020908152604080832080546001600160a01b0319163390811790915583526005909152812080549161067383611473565b909155505033600090815260016020818152604080842080548085018255908552828520018590556001600160a01b03871680855260028352818520805494850181558552918420909201849055905190913480156108fc02929091818181858888f193505050501580156106ec573d6000803e3d6000fd5b50604080513481524260208201526001600160a01b03851691339184917f97a560c1f75713f086cb846ee29d9284d3ce238c5913d3fb5d65dc4d16512283910160405180910390a4826001600160a01b0316336001600160a01b0316827f6428dae54130f432b0a3e8927baf9ee54f28e631e44c46ee0b96937c8aa625793460405161077a91815260200190565b60405180910390a492915050565b6107cc6040518060a001604052806000815260200160006001600160a01b0316815260200160006001600160a01b0316815260200160008152602001606081525090565b6000828152600460205260409020546001600160a01b03166108305760405162461bcd60e51b815260206004820181905260248201527f5061796d656e745342543a20546f6b656e20646f6573206e6f74206578697374604482015260640161042a565b60008281526020818152604091829020825160a0810184528154815260018201546001600160a01b03908116938201939093526002820154909216928201929092526003820154606082015260048201805491929160808401919061089490611423565b80601f01602080910402602001604051908101604052809291908181526020018280546108c090611423565b801561090d5780601f106108e25761010080835404028352916020019161090d565b820191906000526020600020905b8154815290600101906020018083116108f057829003601f168201915b5050505050815250509050919050565b6060825184511461097b5760405162461bcd60e51b815260206004820152602260248201527f5061796d656e745342543a20417272617973206c656e677468206d69736d61746044820152610c6d60f31b606482015260840161042a565b81518451146109dd5760405162461bcd60e51b815260206004820152602860248201527f5061796d656e745342543a204465736372697074696f6e73206c656e677468206044820152670dad2e6dac2e8c6d60c31b606482015260840161042a565b6000805b8451811015610a23578481815181106109fc576109fc61159b565b602002602001015182610a0f91906115b1565b915080610a1b81611473565b9150506109e1565b5080341015610a745760405162461bcd60e51b815260206004820181905260248201527f5061796d656e745342543a20496e73756666696369656e74207061796d656e74604482015260640161042a565b845167ffffffffffffffff811115610a8e57610a8e6110d2565b604051908082528060200260200182016040528015610ab7578160200160208202803683370190505b50915060005b8551811015610f1e5760006001600160a01b0316868281518110610ae357610ae361159b565b60200260200101516001600160a01b031603610b415760405162461bcd60e51b815260206004820152601d60248201527f5061796d656e745342543a20496e76616c696420726563697069656e74000000604482015260640161042a565b6000858281518110610b5557610b5561159b565b602002602001015111610bbc5760405162461bcd60e51b815260206004820152602960248201527f5061796d656e745342543a20416d6f756e74206d75737420626520677265617460448201526806572207468616e20360bc1b606482015260840161042a565b6000600360008154610bcd90611473565b919050819055905080848381518110610be857610be861159b565b6020026020010181815250506040518060a00160405280878481518110610c1157610c1161159b565b60200260200101518152602001336001600160a01b03168152602001888481518110610c3f57610c3f61159b565b60200260200101516001600160a01b03168152602001428152602001868481518110610c6d57610c6d61159b565b602090810291909101810151909152600083815280825260409081902083518155918301516001830180546001600160a01b03199081166001600160a01b03938416179091559184015160028401805490931691161790556060820151600382015560808201516004820190610ce390826114db565b505050600081815260046020908152604080832080546001600160a01b03191633908117909155835260059091528120805491610d1f83611473565b90915550503360009081526001602081815260408320805492830181558352822001829055875160029190899085908110610d5c57610d5c61159b565b6020908102919091018101516001600160a01b031682528181019290925260400160009081208054600181018255908252919020018190558651879083908110610da857610da861159b565b60200260200101516001600160a01b03166108fc878481518110610dce57610dce61159b565b60200260200101519081150290604051600060405180830381858888f19350505050158015610e01573d6000803e3d6000fd5b50868281518110610e1457610e1461159b565b60200260200101516001600160a01b0316336001600160a01b0316827f97a560c1f75713f086cb846ee29d9284d3ce238c5913d3fb5d65dc4d16512283898681518110610e6357610e6361159b565b602002602001015142604051610e83929190918252602082015260400190565b60405180910390a4868281518110610e9d57610e9d61159b565b60200260200101516001600160a01b0316336001600160a01b0316827f6428dae54130f432b0a3e8927baf9ee54f28e631e44c46ee0b96937c8aa62579898681518110610eec57610eec61159b565b6020026020010151604051610f0391815260200190565b60405180910390a45080610f1681611473565b915050610abd565b5080341115610f5f57336108fc610f3583346115c4565b6040518115909202916000818181858888f19350505050158015610f5d573d6000803e3d6000fd5b505b509392505050565b600160205281600052604060002081815481106104bf57600080fd5b600060208284031215610f9557600080fd5b5035919050565b6000815180845260005b81811015610fc257602081850181015186830182015201610fa6565b506000602082860101526020601f19601f83011685010191505092915050565b8581526001600160a01b038581166020830152841660408201526060810183905260a06080820181905260009061101b90830184610f9c565b979650505050505050565b80356001600160a01b038116811461103d57600080fd5b919050565b60006020828403121561105457600080fd5b61105d82611026565b9392505050565b6020808252825182820181905260009190848201906040850190845b8181101561109c57835183529284019291840191600101611080565b50909695505050505050565b600080604083850312156110bb57600080fd5b6110c483611026565b946020939093013593505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff81118282101715611111576111116110d2565b604052919050565b600082601f83011261112a57600080fd5b813567ffffffffffffffff811115611144576111446110d2565b611157601f8201601f19166020016110e8565b81815284602083860101111561116c57600080fd5b816020850160208301376000918101602001919091529392505050565b6000806040838503121561119c57600080fd5b6111a583611026565b9150602083013567ffffffffffffffff8111156111c157600080fd5b6111cd85828601611119565b9150509250929050565b60208152815160208201526000602083015160018060a01b038082166040850152806040860151166060850152505060608301516080830152608083015160a08084015261122860c0840182610f9c565b949350505050565b600067ffffffffffffffff82111561124a5761124a6110d2565b5060051b60200190565b600082601f83011261126557600080fd5b8135602061127a61127583611230565b6110e8565b82815260059290921b8401810191818101908684111561129957600080fd5b8286015b848110156112b4578035835291830191830161129d565b509695505050505050565b600082601f8301126112d057600080fd5b813560206112e061127583611230565b82815260059290921b840181019181810190868411156112ff57600080fd5b8286015b848110156112b457803567ffffffffffffffff8111156113235760008081fd5b6113318986838b0101611119565b845250918301918301611303565b60008060006060848603121561135457600080fd5b833567ffffffffffffffff8082111561136c57600080fd5b818601915086601f83011261138057600080fd5b8135602061139061127583611230565b82815260059290921b8401810191818101908a8411156113af57600080fd5b948201945b838610156113d4576113c586611026565b825294820194908201906113b4565b975050870135925050808211156113ea57600080fd5b6113f687838801611254565b9350604086013591508082111561140c57600080fd5b50611419868287016112bf565b9150509250925092565b600181811c9082168061143757607f821691505b60208210810361145757634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fd5b6000600182016114855761148561145d565b5060010190565b601f8211156114d657600081815260208120601f850160051c810160208610156114b35750805b601f850160051c820191505b818110156114d2578281556001016114bf565b5050505b505050565b815167ffffffffffffffff8111156114f5576114f56110d2565b611509816115038454611423565b8461148c565b602080601f83116001811461153e57600084156115265750858301515b600019600386901b1c1916600185901b1785556114d2565b600085815260208120601f198616915b8281101561156d5788860151825594840194600190910190840161154e565b508582101561158b5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b634e487b7160e01b600052603260045260246000fd5b808201808211156104335761043361145d565b818103818111156104335761043361145d56fea2646970667358221220a1cae3708871fa4ec47f1af471c2a9daba2ea295e91d942a51647e502670f85b64736f6c63430008140033",
  "deployedBytecode": "0x6080604052600436106100a75760003560e01c80637764be6a116100645780637764be6a146101e4578063a936ed5e14610204578063c3bad6ef14610224578063d810ff0f14610237578063e14d04b214610264578063f9f411d81461027757600080fd5b806318160ddd146100ac5780633157f16d146100d057806340398d67146101015780634f558e791461012e5780636352211e1461017657806370a08231146101ae575b600080fd5b3480156100b857600080fd5b506003545b6040519081526020015b60405180910390f35b3480156100dc57600080fd5b506100f06100eb366004610f83565b610297565b6040516100c7959493929190610fe2565b34801561010d57600080fd5b5061012161011c366004611042565b61035d565b6040516100c79190611064565b34801561013a57600080fd5b50610166610149366004610f83565b6000908152600460205260409020546001600160a01b0316151590565b60405190151581526020016100c7565b34801561018257600080fd5b50610196610191366004610f83565b6103c9565b6040516001600160a01b0390911681526020016100c7565b3480156101ba57600080fd5b506100bd6101c9366004611042565b6001600160a01b031660009081526005602052604090205490565b3480156101f057600080fd5b506101216101ff366004611042565b610439565b34801561021057600080fd5b506100bd61021f3660046110a8565b6104a3565b6100bd610232366004611189565b6104d4565b34801561024357600080fd5b50610257610252366004610f83565b610788565b6040516100c791906111d7565b61012161027236600461133f565b61091d565b34801561028357600080fd5b506100bd6102923660046110a8565b610f67565b6000602081905290815260409020805460018201546002830154600384015460048501805494956001600160a01b0394851695939094169391926102da90611423565b80601f016020809104026020016040519081016040528092919081815260200182805461030690611423565b80156103535780601f1061032857610100808354040283529160200191610353565b820191906000526020600020905b81548152906001019060200180831161033657829003601f168201915b5050505050905085565b6001600160a01b0381166000908152600160209081526040918290208054835181840281018401909452808452606093928301828280156103bd57602002820191906000526020600020905b8154815260200190600101908083116103a9575b50505050509050919050565b6000818152600460205260408120546001600160a01b0316806104335760405162461bcd60e51b815260206004820181905260248201527f5061796d656e745342543a20546f6b656e20646f6573206e6f7420657869737460448201526064015b60405180910390fd5b92915050565b6001600160a01b0381166000908152600260209081526040918290208054835181840281018401909452808452606093928301828280156103bd57602002820191906000526020600020908154815260200190600101908083116103a95750505050509050919050565b600260205281600052604060002081815481106104bf57600080fd5b90600052602060002001600091509150505481565b60006001600160a01b03831661052c5760405162461bcd60e51b815260206004820152601d60248201527f5061796d656e745342543a20496e76616c696420726563697069656e74000000604482015260640161042a565b600034116105965760405162461bcd60e51b815260206004820152603160248201527f5061796d656e745342543a205061796d656e7420616d6f756e74206d75737420604482015270062652067726561746572207468616e203607c1b606482015260840161042a565b6003600081546105a590611473565b91829055506040805160a0810182523481523360208083019182526001600160a01b038881168486019081524260608601908152608086018a8152600089815294859052969093208551815593516001850180549184166001600160a01b03199283161790559051600285018054919093169116179055516003820155915192935091600482019061063790826114db565b505050600081815260046020908152604080832080546001600160a01b0319163390811790915583526005909152812080549161067383611473565b909155505033600090815260016020818152604080842080548085018255908552828520018590556001600160a01b03871680855260028352818520805494850181558552918420909201849055905190913480156108fc02929091818181858888f193505050501580156106ec573d6000803e3d6000fd5b50604080513481524260208201526001600160a01b03851691339184917f97a560c1f75713f086cb846ee29d9284d3ce238c5913d3fb5d65dc4d16512283910160405180910390a4826001600160a01b0316336001600160a01b0316827f6428dae54130f432b0a3e8927baf9ee54f28e631e44c46ee0b96937c8aa625793460405161077a91815260200190565b60405180910390a492915050565b6107cc6040518060a001604052806000815260200160006001600160a01b0316815260200160006001600160a01b0316815260200160008152602001606081525090565b6000828152600460205260409020546001600160a01b03166108305760405162461bcd60e51b815260206004820181905260248201527f5061796d656e745342543a20546f6b656e20646f6573206e6f74206578697374604482015260640161042a565b60008281526020818152604091829020825160a0810184528154815260018201546001600160a01b03908116938201939093526002820154909216928201929092526003820154606082015260048201805491929160808401919061089490611423565b80601f01602080910402602001604051908101604052809291908181526020018280546108c090611423565b801561090d5780601f106108e25761010080835404028352916020019161090d565b820191906000526020600020905b8154815290600101906020018083116108f057829003601f168201915b5050505050815250509050919050565b6060825184511461097b5760405162461bcd60e51b815260206004820152602260248201527f5061796d656e745342543a20417272617973206c656e677468206d69736d61746044820152610c6d60f31b606482015260840161042a565b81518451146109dd5760405162461bcd60e51b815260206004820152602860248201527f5061796d656e745342543a204465736372697074696f6e73206c656e677468206044820152670dad2e6dac2e8c6d60c31b606482015260840161042a565b6000805b8451811015610a23578481815181106109fc576109fc61159b565b602002602001015182610a0f91906115b1565b915080610a1b81611473565b9150506109e1565b5080341015610a745760405162461bcd60e51b815260206004820181905260248201527f5061796d656e745342543a20496e73756666696369656e74207061796d656e74604482015260640161042a565b845167ffffffffffffffff811115610a8e57610a8e6110d2565b604051908082528060200260200182016040528015610ab7578160200160208202803683370190505b50915060005b8551811015610f1e5760006001600160a01b0316868281518110610ae357610ae361159b565b60200260200101516001600160a01b031603610b415760405162461bcd60e51b815260206004820152601d60248201527f5061796d656e745342543a20496e76616c696420726563697069656e74000000604482015260640161042a565b6000858281518110610b5557610b5561159b565b602002602001015111610bbc5760405162461bcd60e51b815260206004820152602960248201527f5061796d656e745342543a20416d6f756e74206d75737420626520677265617460448201526806572207468616e20360bc1b606482015260840161042a565b6000600360008154610bcd90611473565b919050819055905080848381518110610be857610be861159b565b6020026020010181815250506040518060a00160405280878481518110610c1157610c1161159b565b60200260200101518152602001336001600160a01b03168152602001888481518110610c3f57610c3f61159b565b60200260200101516001600160a01b03168152602001428152602001868481518110610c6d57610c6d61159b565b602090810291909101810151909152600083815280825260409081902083518155918301516001830180546001600160a01b03199081166001600160a01b03938416179091559184015160028401805490931691161790556060820151600382015560808201516004820190610ce390826114db565b505050600081815260046020908152604080832080546001600160a01b03191633908117909155835260059091528120805491610d1f83611473565b90915550503360009081526001602081815260408320805492830181558352822001829055875160029190899085908110610d5c57610d5c61159b565b6020908102919091018101516001600160a01b031682528181019290925260400160009081208054600181018255908252919020018190558651879083908110610da857610da861159b565b60200260200101516001600160a01b03166108fc878481518110610dce57610dce61159b565b60200260200101519081150290604051600060405180830381858888f19350505050158015610e01573d6000803e3d6000fd5b50868281518110610e1457610e1461159b565b60200260200101516001600160a01b0316336001600160a01b0316827f97a560c1f75713f086cb846ee29d9284d3ce238c5913d3fb5d65dc4d16512283898681518110610e6357610e6361159b565b602002602001015142604051610e83929190918252602082015260400190565b60405180910390a4868281518110610e9d57610e9d61159b565b60200260200101516001600160a01b0316336001600160a01b0316827f6428dae54130f432b0a3e8927baf9ee54f28e631e44c46ee0b96937c8aa62579898681518110610eec57610eec61159b565b6020026020010151604051610f0391815260200190565b60405180910390a45080610f1681611473565b915050610abd565b5080341115610f5f57336108fc610f3583346115c4565b6040518115909202916000818181858888f19350505050158015610f5d573d6000803e3d6000fd5b505b509392505050565b600160205281600052604060002081815481106104bf57600080fd5b600060208284031215610f9557600080fd5b5035919050565b6000815180845260005b81811015610fc257602081850181015186830182015201610fa6565b506000602082860101526020601f19601f83011685010191505092915050565b8581526001600160a01b038581166020830152841660408201526060810183905260a06080820181905260009061101b90830184610f9c565b979650505050505050565b80356001600160a01b038116811461103d57600080fd5b919050565b60006020828403121561105457600080fd5b61105d82611026565b9392505050565b6020808252825182820181905260009190848201906040850190845b8181101561109c57835183529284019291840191600101611080565b50909695505050505050565b600080604083850312156110bb57600080fd5b6110c483611026565b946020939093013593505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff81118282101715611111576111116110d2565b604052919050565b600082601f83011261112a57600080fd5b813567ffffffffffffffff811115611144576111446110d2565b611157601f8201601f19166020016110e8565b81815284602083860101111561116c57600080fd5b816020850160208301376000918101602001919091529392505050565b6000806040838503121561119c57600080fd5b6111a583611026565b9150602083013567ffffffffffffffff8111156111c157600080fd5b6111cd85828601611119565b9150509250929050565b60208152815160208201526000602083015160018060a01b038082166040850152806040860151166060850152505060608301516080830152608083015160a08084015261122860c0840182610f9c565b949350505050565b600067ffffffffffffffff82111561124a5761124a6110d2565b5060051b60200190565b600082601f83011261126557600080fd5b8135602061127a61127583611230565b6110e8565b82815260059290921b8401810191818101908684111561129957600080fd5b8286015b848110156112b4578035835291830191830161129d565b509695505050505050565b600082601f8301126112d057600080fd5b813560206112e061127583611230565b82815260059290921b840181019181810190868411156112ff57600080fd5b8286015b848110156112b457803567ffffffffffffffff8111156113235760008081fd5b6113318986838b0101611119565b845250918301918301611303565b60008060006060848603121561135457600080fd5b833567ffffffffffffffff8082111561136c57600080fd5b818601915086601f83011261138057600080fd5b8135602061139061127583611230565b82815260059290921b8401810191818101908a8411156113af57600080fd5b948201945b838610156113d4576113c586611026565b825294820194908201906113b4565b975050870135925050808211156113ea57600080fd5b6113f687838801611254565b9350604086013591508082111561140c57600080fd5b50611419868287016112bf565b9150509250925092565b600181811c9082168061143757607f821691505b60208210810361145757634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fd5b6000600182016114855761148561145d565b5060010190565b601f8211156114d657600081815260208120601f850160051c810160208610156114b35750805b601f850160051c820191505b818110156114d2578281556001016114bf565b5050505b505050565b815167ffffffffffffffff8111156114f5576114f56110d2565b611509816115038454611423565b8461148c565b602080601f83116001811461153e57600084156115265750858301515b600019600386901b1c1916600185901b1785556114d2565b600085815260208120601f198616915b8281101561156d5788860151825594840194600190910190840161154e565b508582101561158b5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b634e487b7160e01b600052603260045260246000fd5b808201808211156104335761043361145d565b818103818111156104335761043361145d56fea2646970667358221220a1cae3708871fa4ec47f1af471c2a9daba2ea295e91d942a51647e502670f85b64736f6c63430008140033",
  "devdoc": {
    "details": "接收付款后发放SBT，在SBT中记录付款信息，并将款项转账给目标地址",
    "kind": "dev",
    "methods": {
      "balanceOf(address)": {
        "params": {
          "owner": "用户地址"
        },
        "returns": {
          "_0": "Token数量"
        }
      },
      "exists(uint256)": {
        "params": {
          "tokenId": "Token ID"
        },
        "returns": {
          "_0": "是否存在"
        }
      },
      "getPaymentInfo(uint256)": {
        "params": {
          "tokenId": "Token ID"
        },
        "returns": {
          "_0": "付款信息"
        }
      },
      "getPaymentsByRecipient(address)": {
        "params": {
          "recipient": "收款地址"
        },
        "returns": {
          "_0": "Token ID数组"
        }
      },
      "getTokensByOwner(address)": {
        "params": {
          "owner": "用户地址"
        },
        "returns": {
          "_0": "Token ID数组"
        }
      },
      "makeBatchPayment(address[],uint256[],string[])": {
        "params": {
          "amounts": "付款金额数组（wei）",
          "descriptions": "付款描述数组",
          "recipients": "收款地址数组"
        },
        "returns": {
          "tokenIds": "新铸造的SBT Token ID数组"
        }
      },
      "makePayment(address,string)": {
        "params": {
          "description": "付款描述（可选，可为空字符串）",
          "recipient": "收款地址"
        },
        "returns": {
          "tokenId": "新铸造的SBT Token ID"
        }
      },
      "ownerOf(uint256)": {
        "params": {
          "tokenId": "Token ID"
        },
        "returns": {
          "_0": "拥有者地址"
        }
      },
      "totalSupply()": {
        "returns": {
          "_0": "总Token数量"
        }
      }
    },
    "title": "PaymentSBT",
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "balanceOf(address)": {
        "notice": "获取用户拥有的Token数量"
      },
      "exists(uint256)": {
        "notice": "检查Token是否存在"
      },
      "getPaymentInfo(uint256)": {
        "notice": "获取Token的付款信息"
      },
      "getPaymentsByRecipient(address)": {
        "notice": "获取收款地址收到的所有付款Token IDs"
      },
      "getTokensByOwner(address)": {
        "notice": "获取用户拥有的所有Token IDs"
      },
      "makeBatchPayment(address[],uint256[],string[])": {
        "notice": "批量付款并发放SBT"
      },
      "makePayment(address,string)": {
        "notice": "付款并发放SBT"
      },
      "ownerOf(uint256)": {
        "notice": "获取Token的拥有者"
      },
      "totalSupply()": {
        "notice": "获取总Token数量"
      }
    },
    "notice": "支付发放SBT合约",
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 18,
        "contract": "contracts/PaymentSBT.sol:PaymentSBT",
        "label": "paymentInfo",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_uint256,t_struct(PaymentInfo)13_storage)"
      },
      {
        "astId": 23,
        "contract": "contracts/PaymentSBT.sol:PaymentSBT",
        "label": "userTokens",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_address,t_array(t_uint256)dyn_storage)"
      },
      {
        "astId": 28,
        "contract": "contracts/PaymentSBT.sol:PaymentSBT",
        "label": "recipientPayments",
        "offset": 0,
        "slot": "2",
        "type": "t_mapping(t_address,t_array(t_uint256)dyn_storage)"
      },
      {
        "astId": 30,
        "contract": "contracts/PaymentSBT.sol:PaymentSBT",
        "label": "_tokenCounter",
        "offset": 0,
        "slot": "3",
        "type": "t_uint256"
      },
      {
        "astId": 34,
        "contract": "contracts/PaymentSBT.sol:PaymentSBT",
        "label": "_owners",
        "offset": 0,
        "slot": "4",
        "type": "t_mapping(t_uint256,t_address)"
      },
      {
        "astId": 38,
        "contract": "contracts/PaymentSBT.sol:PaymentSBT",
        "label": "_balances",
        "offset": 0,
        "slot": "5",
        "type": "t_mapping(t_address,t_uint256)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_uint256)dyn_storage": {
        "base": "t_uint256",
        "encoding": "dynamic_array",
        "label": "uint256[]",
        "numberOfBytes": "32"
      },
      "t_mapping(t_address,t_array(t_uint256)dyn_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256[])",
        "numberOfBytes": "32",
        "value": "t_array(t_uint256)dyn_storage"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_mapping(t_uint256,t_address)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => address)",
        "numberOfBytes": "32",
        "value": "t_address"
      },
      "t_mapping(t_uint256,t_struct(PaymentInfo)13_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct PaymentSBT.PaymentInfo)",
        "numberOfBytes": "32",
        "value": "t_struct(PaymentInfo)13_storage"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_struct(PaymentInfo)13_storage": {
        "encoding": "inplace",
        "label": "struct PaymentSBT.PaymentInfo",
        "members": [
          {
            "astId": 4,
            "contract": "contracts/PaymentSBT.sol:PaymentSBT",
            "label": "amount",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 6,
            "contract": "contracts/PaymentSBT.sol:PaymentSBT",
            "label": "payer",
            "offset": 0,
            "slot": "1",
            "type": "t_address"
          },
          {
            "astId": 8,
            "contract": "contracts/PaymentSBT.sol:PaymentSBT",
            "label": "recipient",
            "offset": 0,
            "slot": "2",
            "type": "t_address"
          },
          {
            "astId": 10,
            "contract": "contracts/PaymentSBT.sol:PaymentSBT",
            "label": "timestamp",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 12,
            "contract": "contracts/PaymentSBT.sol:PaymentSBT",
            "label": "description",
            "offset": 0,
            "slot": "4",
            "type": "t_string_storage"
          }
        ],
        "numberOfBytes": "160"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}